{
  "name": "Get Connect product info by ProductRatePlanId",
  "description": "When there is a new call for callable recipe, do action",
  "version": 11,
  "private": true,
  "concurrency": 1,
  "code": {
    "number": 0,
    "provider": "workato_service",
    "name": "receive_request",
    "as": "a71829a7",
    "title": null,
    "description": "New <span class=\"provider\">call</span> for <span class=\"provider\">Get Product by RatePlanId</span>",
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
      "service_name": "Get Product by RatePlanId",
      "request_schema_json": "[{\"name\":\"ProductRatePlanId\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"}]",
      "reply_schema_json": "[{\"control_type\":\"text\",\"label\":\"Connect product ID\",\"name\":\"ConnectProductID\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Connect product item ID\",\"name\":\"ConnectProductItemID\",\"type\":\"string\",\"optional\":false}]"
    },
    "extended_output_schema": [
      {
        "type": "object",
        "name": "request",
        "label": "Recipe input",
        "properties": [
          {
            "control_type": "text",
            "label": "Product rate plan ID",
            "name": "ProductRatePlanId",
            "type": "string",
            "optional": false
          }
        ]
      }
    ],
    "block": [
      {
        "number": 1,
        "provider": "zuora",
        "name": "__adhoc_http_action",
        "as": "4babcb56",
        "title": "Retrieve Product Rate Plan data",
        "description": "Retrieve <span class=\"provider\">Product Rate Plan data</span> in <span class=\"provider\">Zuora</span> (Custom)",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "mnemonic": "Retrieve Product Rate Plan data",
          "verb": "get",
          "response_type": "json",
          "path": "/v1/object/product-rate-plan/#{_('data.workato_service.a71829a7.request.ProductRatePlanId')}",
          "output": "[{\"control_type\":\"text\",\"label\":\"Effective start date\",\"name\":\"EffectiveStartDate\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Name\",\"name\":\"Name\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"ID\",\"name\":\"Id\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Effective end date\",\"name\":\"EffectiveEndDate\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Updated date\",\"name\":\"UpdatedDate\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Created by ID\",\"name\":\"CreatedById\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Connect product item ID c\",\"name\":\"ConnectProductItemID__c\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Updated by ID\",\"name\":\"UpdatedById\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Created date\",\"name\":\"CreatedDate\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Product ID\",\"name\":\"ProductId\",\"type\":\"string\",\"optional\":true}]"
        },
        "extended_output_schema": [
          {
            "type": "string",
            "name": "EffectiveStartDate",
            "control_type": "text",
            "label": "Effective start date",
            "optional": true
          },
          {
            "type": "string",
            "name": "Name",
            "control_type": "text",
            "label": "Name",
            "optional": true
          },
          {
            "type": "string",
            "name": "Id",
            "control_type": "text",
            "label": "ID",
            "optional": true
          },
          {
            "type": "string",
            "name": "EffectiveEndDate",
            "control_type": "text",
            "label": "Effective end date",
            "optional": true
          },
          {
            "type": "string",
            "name": "UpdatedDate",
            "control_type": "text",
            "label": "Updated date",
            "optional": true
          },
          {
            "type": "string",
            "name": "CreatedById",
            "control_type": "text",
            "label": "Created by ID",
            "optional": true
          },
          {
            "type": "string",
            "name": "ConnectProductItemID__c",
            "control_type": "text",
            "label": "Connect product item ID c",
            "optional": true
          },
          {
            "type": "string",
            "name": "UpdatedById",
            "control_type": "text",
            "label": "Updated by ID",
            "optional": true
          },
          {
            "type": "string",
            "name": "CreatedDate",
            "control_type": "text",
            "label": "Created date",
            "optional": true
          },
          {
            "type": "string",
            "name": "ProductId",
            "control_type": "text",
            "label": "Product ID",
            "optional": true
          }
        ],
        "extended_input_schema": [
          {
            "type": "string",
            "name": "path",
            "control_type": "text",
            "label": "Path",
            "hint": "Base URI is <b>https://rest.apisandbox.zuora.com</b> - path will be appended to this URI. Use absolute URI to override this base URI.",
            "optional": false
          },
          {
            "type": "string",
            "name": "response_type",
            "control_type": "select",
            "label": "Response type",
            "default": "json",
            "sticky": false,
            "pick_list": [
              [
                "JSON response",
                "json"
              ],
              [
                "Raw response",
                "raw"
              ]
            ],
            "optional": true,
            "extends_schema": true
          },
          {
            "type": "object",
            "name": "input",
            "control_type": "form-schema-builder",
            "label": "Request URL parameters",
            "sticky": true,
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "Schema",
                "extends_schema": true,
                "sticky": true,
                "optional": true,
                "type": "string",
                "name": "schema",
                "parent": "input"
              }
            ]
          },
          {
            "type": "array",
            "name": "request_headers",
            "control_type": "key_value",
            "label": "Request headers",
            "optional": true,
            "of": "object",
            "properties": [
              {
                "control_type": "text",
                "label": "Name",
                "optional": true,
                "type": "string",
                "name": "name",
                "parent": "request_headers"
              },
              {
                "control_type": "text",
                "label": "Value",
                "optional": true,
                "type": "string",
                "name": "value",
                "parent": "request_headers"
              }
            ]
          },
          {
            "type": "string",
            "name": "output",
            "control_type": "schema-designer",
            "label": "Response body",
            "sticky": true,
            "optional": true,
            "extends_schema": true,
            "schema_neutral": true
          },
          {
            "type": "string",
            "name": "response_headers",
            "control_type": "schema-designer",
            "label": "Response headers",
            "sticky": false,
            "optional": true,
            "extends_schema": true,
            "schema_neutral": true
          }
        ],
        "uuid": "cd87d54b-95fd-4385-8260-868277560656"
      },
      {
        "number": 2,
        "provider": "zuora",
        "name": "search_records",
        "as": "bf65e155",
        "title": null,
        "description": "Search <span class=\"provider\">products</span> in <span class=\"provider\">Zuora</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
          "object": "Product"
        },
        "toggleCfg": {
        },
        "input": {
          "object": "Product",
          "Id": "#{_('data.zuora.4babcb56.ProductId')}"
        },
        "extended_output_schema": [
          {
            "type": "array",
            "name": "records",
            "label": "Records",
            "optional": true,
            "of": "object",
            "properties": [
              {
                "control_type": "number",
                "label": "AllowFeatureChanges",
                "parse_output": "float_conversion",
                "hint": "Controls whether to allow your users to add or remove features while creating or amending a subscription.",
                "optional": true,
                "type": "number",
                "name": "AllowFeatureChanges"
              },
              {
                "control_type": "text",
                "label": "Category",
                "hint": "Allowed values are: <b>Base Products</b>, <b>Add On Services</b> or <b>Miscellaneous Products</b>.",
                "optional": true,
                "type": "string",
                "name": "Category"
              },
              {
                "control_type": "text",
                "label": "Connect Product ID",
                "optional": true,
                "type": "string",
                "name": "ConnectProductID__c"
              },
              {
                "control_type": "select",
                "label": "Corporate Region",
                "pick_list": [
                  [
                    "Global",
                    "Global"
                  ],
                  [
                    "APJ",
                    "APJ"
                  ],
                  [
                    "Australia",
                    "Australia"
                  ],
                  [
                    "China",
                    "China"
                  ],
                  [
                    "Japan",
                    "Japan"
                  ],
                  [
                    "New Zealand",
                    "New Zealand"
                  ],
                  [
                    "EMEA",
                    "EMEA"
                  ],
                  [
                    "France",
                    "France"
                  ],
                  [
                    "Germany",
                    "Germany"
                  ],
                  [
                    "Nordics",
                    "Nordics"
                  ],
                  [
                    "UK",
                    "UK"
                  ],
                  [
                    "North America",
                    "North America"
                  ],
                  [
                    "USA",
                    "USA"
                  ],
                  [
                    "Central",
                    "Central"
                  ],
                  [
                    "Northeast",
                    "Northeast"
                  ],
                  [
                    "Northwest",
                    "Northwest"
                  ],
                  [
                    "Southeast",
                    "Southeast"
                  ],
                  [
                    "Southwest",
                    "Southwest"
                  ],
                  [
                    "Canada",
                    "Canada"
                  ],
                  [
                    "Mexico",
                    "Mexico"
                  ]
                ],
                "toggle_hint": "Select from list",
                "toggle_field": {
                  "name": "CorporateRegion__h",
                  "label": "Corporate Region",
                  "toggle_hint": "Use custom value",
                  "type": "string",
                  "control_type": "text"
                },
                "optional": true,
                "type": "string",
                "name": "CorporateRegion__h"
              },
              {
                "control_type": "text",
                "label": "Created By ID",
                "optional": true,
                "type": "string",
                "name": "CreatedById"
              },
              {
                "control_type": "date_time",
                "label": "Created Date",
                "render_input": "date_time_conversion",
                "parse_output": "date_time_conversion",
                "optional": true,
                "type": "date_time",
                "name": "CreatedDate"
              },
              {
                "control_type": "text",
                "label": "Description",
                "hint": "A descriptionof the product.",
                "optional": true,
                "type": "string",
                "name": "Description"
              },
              {
                "control_type": "text",
                "label": "Downgrade Path (SKU)",
                "optional": true,
                "type": "string",
                "name": "DowngradePathSKU__c"
              },
              {
                "control_type": "date",
                "label": "Effective End Date",
                "render_input": "date_conversion",
                "parse_output": "date_conversion",
                "hint": "The date the product expires.",
                "optional": true,
                "type": "date_time",
                "name": "EffectiveEndDate"
              },
              {
                "control_type": "date",
                "label": "Effective Start Date",
                "render_input": "date_conversion",
                "parse_output": "date_conversion",
                "hint": "The date the product becomes available.",
                "optional": true,
                "type": "date_time",
                "name": "EffectiveStartDate"
              },
              {
                "control_type": "text",
                "label": "ID",
                "hint": "Enter the <b>ID</b> of the product you want to update.",
                "optional": true,
                "type": "string",
                "name": "Id"
              },
              {
                "control_type": "text",
                "label": "Name",
                "hint": "The name of the product.",
                "optional": true,
                "type": "string",
                "name": "Name"
              },
              {
                "control_type": "text",
                "label": "Partner Commission %",
                "optional": true,
                "type": "string",
                "name": "PartnerCommission__c"
              },
              {
                "control_type": "select",
                "label": "Product Manager",
                "pick_list": [
                  [
                    "Dan Swanson",
                    "Dan Swanson"
                  ],
                  [
                    "Sandy Taylor",
                    "Sandy Taylor"
                  ],
                  [
                    "Bruce Wilson",
                    "Bruce Wilson"
                  ],
                  [
                    "Deb Johnson",
                    "Deb Johnson"
                  ],
                  [
                    "Mary Swanson",
                    "Mary Swanson"
                  ]
                ],
                "toggle_hint": "Select from list",
                "toggle_field": {
                  "name": "ProductManager__c",
                  "label": "Product Manager",
                  "toggle_hint": "Use custom value",
                  "type": "string",
                  "control_type": "text"
                },
                "optional": true,
                "type": "string",
                "name": "ProductManager__c"
              },
              {
                "control_type": "text",
                "label": "SKU",
                "hint": "The unique SKU for the product.",
                "optional": true,
                "type": "string",
                "name": "SKU"
              },
              {
                "control_type": "text",
                "label": "Updated By ID",
                "optional": true,
                "type": "string",
                "name": "UpdatedById"
              },
              {
                "control_type": "date_time",
                "label": "Updated Date",
                "render_input": "date_time_conversion",
                "parse_output": "date_time_conversion",
                "optional": true,
                "type": "date_time",
                "name": "UpdatedDate"
              },
              {
                "control_type": "text",
                "label": "Upgrade Path (SKU)",
                "optional": true,
                "type": "string",
                "name": "UpgradePathSKU__c"
              }
            ]
          }
        ],
        "extended_input_schema": [
          {
            "type": "number",
            "name": "AllowFeatureChanges",
            "control_type": "number",
            "label": "AllowFeatureChanges",
            "hint": "Controls whether to allow your users to add or remove features while creating or amending a subscription.",
            "optional": true,
            "parse_output": "float_conversion"
          },
          {
            "type": "string",
            "name": "Category",
            "control_type": "text",
            "label": "Category",
            "hint": "Allowed values are: <b>Base Products</b>, <b>Add On Services</b> or <b>Miscellaneous Products</b>.",
            "optional": true
          },
          {
            "type": "string",
            "name": "ConnectProductID__c",
            "control_type": "text",
            "label": "Connect Product ID",
            "optional": true
          },
          {
            "type": "string",
            "name": "CorporateRegion__h",
            "control_type": "select",
            "label": "Corporate Region",
            "pick_list": [
              [
                "Global",
                "Global"
              ],
              [
                "APJ",
                "APJ"
              ],
              [
                "Australia",
                "Australia"
              ],
              [
                "China",
                "China"
              ],
              [
                "Japan",
                "Japan"
              ],
              [
                "New Zealand",
                "New Zealand"
              ],
              [
                "EMEA",
                "EMEA"
              ],
              [
                "France",
                "France"
              ],
              [
                "Germany",
                "Germany"
              ],
              [
                "Nordics",
                "Nordics"
              ],
              [
                "UK",
                "UK"
              ],
              [
                "North America",
                "North America"
              ],
              [
                "USA",
                "USA"
              ],
              [
                "Central",
                "Central"
              ],
              [
                "Northeast",
                "Northeast"
              ],
              [
                "Northwest",
                "Northwest"
              ],
              [
                "Southeast",
                "Southeast"
              ],
              [
                "Southwest",
                "Southwest"
              ],
              [
                "Canada",
                "Canada"
              ],
              [
                "Mexico",
                "Mexico"
              ]
            ],
            "optional": true,
            "toggle_hint": "Select from list",
            "toggle_field": {
              "name": "CorporateRegion__h",
              "label": "Corporate Region",
              "toggle_hint": "Use custom value",
              "type": "string",
              "control_type": "text"
            }
          },
          {
            "type": "string",
            "name": "CreatedById",
            "control_type": "text",
            "label": "Created By ID",
            "optional": true
          },
          {
            "type": "date_time",
            "name": "CreatedDate",
            "control_type": "date_time",
            "label": "Created Date",
            "optional": true,
            "render_input": "date_time_conversion",
            "parse_output": "date_time_conversion"
          },
          {
            "type": "string",
            "name": "Description",
            "control_type": "text",
            "label": "Description",
            "hint": "A descriptionof the product.",
            "optional": true
          },
          {
            "type": "string",
            "name": "DowngradePathSKU__c",
            "control_type": "text",
            "label": "Downgrade Path (SKU)",
            "optional": true
          },
          {
            "type": "date_time",
            "name": "EffectiveEndDate",
            "control_type": "date",
            "label": "Effective End Date",
            "hint": "The date the product expires.",
            "optional": true,
            "render_input": "date_conversion",
            "parse_output": "date_conversion"
          },
          {
            "type": "date_time",
            "name": "EffectiveStartDate",
            "control_type": "date",
            "label": "Effective Start Date",
            "hint": "The date the product becomes available.",
            "optional": true,
            "render_input": "date_conversion",
            "parse_output": "date_conversion"
          },
          {
            "type": "string",
            "name": "Id",
            "control_type": "text",
            "label": "ID",
            "hint": "Enter the <b>ID</b> of the product you want to update.",
            "optional": true
          },
          {
            "type": "string",
            "name": "Name",
            "control_type": "text",
            "label": "Name",
            "hint": "The name of the product.",
            "optional": true
          },
          {
            "type": "string",
            "name": "PartnerCommission__c",
            "control_type": "text",
            "label": "Partner Commission %",
            "optional": true
          },
          {
            "type": "string",
            "name": "ProductManager__c",
            "control_type": "select",
            "label": "Product Manager",
            "pick_list": [
              [
                "Dan Swanson",
                "Dan Swanson"
              ],
              [
                "Sandy Taylor",
                "Sandy Taylor"
              ],
              [
                "Bruce Wilson",
                "Bruce Wilson"
              ],
              [
                "Deb Johnson",
                "Deb Johnson"
              ],
              [
                "Mary Swanson",
                "Mary Swanson"
              ]
            ],
            "optional": true,
            "toggle_hint": "Select from list",
            "toggle_field": {
              "name": "ProductManager__c",
              "label": "Product Manager",
              "toggle_hint": "Use custom value",
              "type": "string",
              "control_type": "text"
            }
          },
          {
            "type": "string",
            "name": "SKU",
            "control_type": "text",
            "label": "SKU",
            "hint": "The unique SKU for the product.",
            "optional": true
          },
          {
            "type": "string",
            "name": "UpdatedById",
            "control_type": "text",
            "label": "Updated By ID",
            "optional": true
          },
          {
            "type": "date_time",
            "name": "UpdatedDate",
            "control_type": "date_time",
            "label": "Updated Date",
            "optional": true,
            "render_input": "date_time_conversion",
            "parse_output": "date_time_conversion"
          },
          {
            "type": "string",
            "name": "UpgradePathSKU__c",
            "control_type": "text",
            "label": "Upgrade Path (SKU)",
            "optional": true
          }
        ],
        "visible_config_fields": [
          "object",
          "Id"
        ],
        "uuid": "dc54de6c-7bad-4665-b30d-2e87d396dccf"
      },
      {
        "number": 3,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "or",
          "conditions": [
            {
              "operand": "is_true",
              "lhs": "=_('data.zuora.bf65e155.records.first.ConnectProductID__c').blank?",
              "rhs": null,
              "uuid": "condition-1aaee8f8-17aa-4a92-bdfc-5a38be584459"
            },
            {
              "operand": "is_true",
              "lhs": "=_('data.zuora.4babcb56.ConnectProductItemID__c').blank?",
              "rhs": null,
              "uuid": "condition-a98519b0-5016-4de2-ad90-cfebae9d9999"
            }
          ]
        },
        "block": [
          {
            "number": 4,
            "keyword": "stop",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "stop_with_error": "false"
            },
            "uuid": "9b6df2de-a557-499c-a66d-18edc4d78913"
          }
        ],
        "uuid": "56bc5d29-f63f-4232-b7d7-a9a2765a0616"
      },
      {
        "number": 5,
        "provider": "workato_service",
        "name": "send_reply",
        "as": "81860132",
        "title": null,
        "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Get Product by RatePlanId</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "reply_type": "success",
          "reply": {
            "ConnectProductID": "#{_('data.zuora.bf65e155.records.first.ConnectProductID__c')}",
            "ConnectProductItemID": "#{_('data.zuora.4babcb56.ConnectProductItemID__c')}"
          }
        },
        "extended_input_schema": [
          {
            "type": "object",
            "name": "reply",
            "label": "Reply",
            "properties": [
              {
                "control_type": "text",
                "label": "Connect product ID",
                "name": "ConnectProductID",
                "type": "string",
                "optional": false,
                "parent": "reply"
              },
              {
                "control_type": "text",
                "label": "Connect product item ID",
                "name": "ConnectProductItemID",
                "type": "string",
                "optional": false,
                "parent": "reply"
              }
            ]
          }
        ],
        "uuid": "9709f74a-afac-4b73-a40c-cb9fc222f065"
      }
    ],
    "uuid": "37b95b65-fd21-492e-8b80-963ea9315f2e"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "workato_service",
      "account_id": null,
      "skip_validation": false
    },
    {
      "keyword": "application",
      "provider": "zuora",
      "account_id": {
        "zip_name": "Connections/zuora_connector.connection.json",
        "name": "Zuora Connector",
        "folder": "Connections"
      },
      "skip_validation": false
    }
  ]
}