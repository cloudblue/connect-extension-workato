{
  "name": "Get Order Trigger Dates",
  "description": "When there is a new call for callable recipe, do action",
  "version": 11,
  "private": true,
  "concurrency": 1,
  "code": {
    "number": 0,
    "provider": "workato_service",
    "name": "receive_request",
    "as": "99bfbe5e",
    "title": null,
    "description": "New <span class=\"provider\">call</span> for <span class=\"provider\">Get Order Trigger Dates</span>",
    "keyword": "trigger",
    "dynamicPickListSelection": {
    },
    "toggleCfg": {
    },
    "input": {
      "service_name": "Get Order Trigger Dates",
      "request_schema_json": "[{\"name\":\"triggerDates\",\"type\":\"array\",\"of\":\"object\",\"label\":\"Trigger dates\",\"optional\":true,\"properties\":[{\"control_type\":\"text\",\"label\":\"Trigger date\",\"name\":\"triggerDate\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Name\",\"name\":\"name\",\"type\":\"string\",\"optional\":true}]}]",
      "reply_schema_json": "[{\"name\":\"ServiceActivationDate\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"name\":\"CustomerAcceptanceDate\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\"},{\"name\":\"TriggerDateFilled\",\"type\":\"boolean\",\"optional\":false}]"
    },
    "extended_output_schema": [
      {
        "type": "object",
        "name": "request",
        "label": "Recipe input",
        "properties": [
          {
            "name": "triggerDates",
            "type": "array",
            "of": "object",
            "label": "Trigger dates",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "Trigger date",
                "name": "triggerDate",
                "type": "string",
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Name",
                "name": "name",
                "type": "string",
                "optional": true
              }
            ]
          }
        ]
      }
    ],
    "block": [
      {
        "number": 1,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "9ebba16c",
        "title": "  Create variables ServiceActivationDate, CustomerAcceptanceDate, TriggeDateFilled",
        "description": "Create variables <span class=\"provider\">ServiceActivationDate</span>, <span class=\"provider\">CustomerAcceptanceDate</span>, <span class=\"provider\">TriggeDateFilled</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
          "variables.data.trigge_date_filled": true
        },
        "input": {
          "variables": {
            "schema": "[{\"name\":\"service_activation_date\",\"type\":\"string\",\"optional\":true,\"label\":\"ServiceActivationDate\",\"control_type\":\"text\"},{\"name\":\"customer_acceptance_date\",\"type\":\"string\",\"optional\":true,\"label\":\"CustomerAcceptanceDate\",\"control_type\":\"text\"},{\"name\":\"trigge_date_filled\",\"type\":\"boolean\",\"optional\":true,\"label\":\"TriggeDateFilled\",\"control_type\":\"checkbox\"}]",
            "data": {
              "trigge_date_filled": "true"
            }
          }
        },
        "extended_output_schema": [
          {
            "type": "string",
            "name": "service_activation_date",
            "control_type": "text",
            "label": "ServiceActivationDate",
            "optional": true
          },
          {
            "type": "string",
            "name": "customer_acceptance_date",
            "control_type": "text",
            "label": "CustomerAcceptanceDate",
            "optional": true
          },
          {
            "type": "boolean",
            "name": "trigge_date_filled",
            "control_type": "checkbox",
            "label": "TriggeDateFilled",
            "optional": true,
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "TriggeDateFilled",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "name": "trigge_date_filled",
              "type": "boolean",
              "optional": true
            },
            "render_input": {
            },
            "parse_output": {
            }
          }
        ],
        "extended_input_schema": [
          {
            "type": "object",
            "name": "variables",
            "control_type": "form-schema-builder",
            "label": "Variables",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "Schema",
                "extends_schema": true,
                "broadcast_change_event": true,
                "type": "string",
                "name": "schema"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "ServiceActivationDate",
                    "name": "service_activation_date",
                    "type": "string",
                    "optional": true,
                    "hint": "Defaults to nil if not supplied.",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "CustomerAcceptanceDate",
                    "name": "customer_acceptance_date",
                    "type": "string",
                    "optional": true,
                    "hint": "Defaults to nil if not supplied.",
                    "sticky": true
                  },
                  {
                    "control_type": "checkbox",
                    "label": "TriggeDateFilled",
                    "render_input": {
                    },
                    "parse_output": {
                    },
                    "toggle_hint": "Select from option list",
                    "toggle_field": {
                      "label": "TriggeDateFilled",
                      "control_type": "text",
                      "toggle_hint": "Use custom value",
                      "name": "trigge_date_filled",
                      "type": "boolean",
                      "optional": true
                    },
                    "name": "trigge_date_filled",
                    "type": "boolean",
                    "optional": true,
                    "hint": "Defaults to nil if not supplied.",
                    "sticky": true
                  }
                ],
                "label": "Data",
                "type": "object",
                "name": "data"
              }
            ],
            "exclude_fields": [
              "hint"
            ]
          }
        ],
        "visible_config_fields": [
          "variables.data.service_activation_date",
          "variables",
          "variables.schema",
          "variables.data.customer_acceptance_date",
          "variables.data.trigge_date_filled"
        ],
        "uuid": "817a1484-96b5-4b68-a996-44253f0ea064"
      },
      {
        "number": 2,
        "as": "10370683",
        "keyword": "foreach",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "repeat_mode": "simple",
        "clear_scope": "false",
        "input": {
        },
        "block": [
          {
            "number": 3,
            "keyword": "if",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "equals_to",
                  "lhs": "#{_('data.foreach.10370683.name')}",
                  "rhs": "ServiceActivation",
                  "uuid": "condition-63fa8745-edfd-4ffc-a5bd-04582b146f56"
                }
              ]
            },
            "block": [
              {
                "number": 4,
                "provider": "workato_variable",
                "name": "update_variable",
                "as": "635121d9",
                "title": null,
                "description": "Update variable <span class=\"provider\">ServiceActivationDate</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "ServiceActivationDate (step 2)"
                },
                "toggleCfg": {
                },
                "input": {
                  "name": "817a1484-96b5-4b68-a996-44253f0ea064:9ebba16c:service_activation_date",
                  "value": "#{_('data.foreach.10370683.triggerDate')}"
                },
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "value",
                    "control_type": "text",
                    "label": "Value",
                    "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                    "sticky": true,
                    "optional": true,
                    "strip_interpolation": true
                  }
                ],
                "uuid": "3d47254c-466d-4106-a359-ff3689c7a1bb"
              }
            ],
            "uuid": "6e3de8ed-6378-4469-8800-a53c34621b6f"
          },
          {
            "number": 5,
            "keyword": "if",
            "dynamicPickListSelection": {
            },
            "toggleCfg": {
            },
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "equals_to",
                  "lhs": "#{_('data.foreach.10370683.name')}",
                  "rhs": "CustomerAcceptance",
                  "uuid": "condition-63fa8745-edfd-4ffc-a5bd-04582b146f56"
                }
              ]
            },
            "block": [
              {
                "number": 6,
                "provider": "workato_variable",
                "name": "update_variable",
                "as": "6f94d773",
                "title": null,
                "description": "Update variable <span class=\"provider\">CustomerAcceptanceDate</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "CustomerAcceptanceDate (step 2)"
                },
                "toggleCfg": {
                },
                "input": {
                  "name": "817a1484-96b5-4b68-a996-44253f0ea064:9ebba16c:customer_acceptance_date",
                  "value": "#{_('data.foreach.10370683.triggerDate')}"
                },
                "extended_input_schema": [
                  {
                    "type": "string",
                    "name": "value",
                    "control_type": "text",
                    "label": "Value",
                    "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                    "sticky": true,
                    "optional": true,
                    "strip_interpolation": true
                  }
                ],
                "uuid": "df24907b-e4ca-42b2-a5e8-7546a0c81fba"
              }
            ],
            "uuid": "d86f715b-b83f-44dc-9f20-dd5f828a201a"
          }
        ],
        "source": "#{_('data.workato_service.99bfbe5e.request.triggerDates')}",
        "uuid": "241085f8-ae42-42c3-b1a0-10e88484c752"
      },
      {
        "number": 7,
        "keyword": "if",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
        },
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "is_true",
              "lhs": "=_('data.workato_variable.9ebba16c.service_activation_date').blank?",
              "rhs": "",
              "uuid": "condition-d99241d2-8b82-43d7-b2ee-3d83a4ac13af"
            },
            {
              "operand": "is_true",
              "lhs": "=_('data.workato_variable.9ebba16c.customer_acceptance_date').blank?",
              "rhs": "",
              "uuid": "condition-871beca4-bb8c-4700-92e9-4aaa0916dc95"
            }
          ]
        },
        "block": [
          {
            "number": 8,
            "provider": "workato_variable",
            "name": "update_variable",
            "as": "9415b2c3",
            "title": null,
            "description": "Update variable <span class=\"provider\">TriggeDateFilled</span>",
            "keyword": "action",
            "dynamicPickListSelection": {
              "name": "TriggeDateFilled (step 2)"
            },
            "toggleCfg": {
              "value": true
            },
            "input": {
              "name": "817a1484-96b5-4b68-a996-44253f0ea064:9ebba16c:trigge_date_filled",
              "value": "false"
            },
            "extended_input_schema": [
              {
                "type": "boolean",
                "name": "value",
                "control_type": "checkbox",
                "label": "Value",
                "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                "sticky": true,
                "optional": true,
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Value",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "hint": "Provide a value for the variable. When the value is not supplied, the variable is not updated.<br>To clear the value, set the value to <b>nil</b> in formula mode.",
                  "strip_interpolation": true,
                  "sticky": true,
                  "optional": true,
                  "type": "boolean",
                  "name": "value"
                },
                "render_input": {
                },
                "parse_output": {
                },
                "strip_interpolation": true
              }
            ],
            "uuid": "f9c7f75f-cff7-4298-a8fa-3a5dd2c820eb"
          }
        ],
        "uuid": "89909205-9082-4148-aaa7-8b0e877e19c7"
      },
      {
        "number": 9,
        "provider": "workato_service",
        "name": "send_reply",
        "as": "b1a5727e",
        "title": null,
        "description": "Return <span class=\"provider\">response</span> from <span class=\"provider\">Get Order Trigger Dates</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
        },
        "toggleCfg": {
          "reply.TriggerDateFilled": false
        },
        "input": {
          "reply_type": "success",
          "reply": {
            "ServiceActivationDate": "#{_('data.workato_variable.9ebba16c.service_activation_date')}",
            "CustomerAcceptanceDate": "#{_('data.workato_variable.9ebba16c.customer_acceptance_date')}",
            "TriggerDateFilled": "#{_('data.workato_variable.9ebba16c.trigge_date_filled')}"
          }
        },
        "extended_input_schema": [
          {
            "type": "object",
            "name": "reply",
            "label": "Reply",
            "properties": [
              {
                "control_type": "text",
                "label": "Service activation date",
                "name": "ServiceActivationDate",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Customer acceptance date",
                "name": "CustomerAcceptanceDate",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "checkbox",
                "label": "Trigger date filled",
                "render_input": {
                },
                "parse_output": {
                },
                "toggle_hint": "Select from option list",
                "toggle_field": {
                  "label": "Trigger date filled",
                  "control_type": "text",
                  "toggle_hint": "Use custom value",
                  "name": "TriggerDateFilled",
                  "type": "boolean",
                  "optional": false
                },
                "name": "TriggerDateFilled",
                "type": "boolean",
                "optional": false
              }
            ]
          }
        ],
        "uuid": "8bff5be0-a163-4290-a612-3ab4750f68df"
      }
    ],
    "uuid": "b955d526-d599-47cd-92db-40d1c2d22a9d"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "workato_service",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_variable",
      "skip_validation": false,
      "account_id": null
    }
  ]
}